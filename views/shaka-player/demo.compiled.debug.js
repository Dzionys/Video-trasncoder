/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(m){g(m)}}:
b}var d,g,h=new e(function(a,b){d=a;g=b});this.callWhenSettled_(c(a,d),c(b,g));return h};e.prototype["catch"]=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,
d){for(var e=$jscomp.makeIterator(a),g=e.next();!g.done;g=e.next())c(g.value).callWhenSettled_(b,d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function g(b){return function(c){h[b]=c;k--;0==k&&a(h)}}var h=[],k=0;do h.push(void 0),k++,c(d.value).callWhenSettled_(g(h.length-1),e),d=b.next();while(!d.done)})};return e},"es6","es3");
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function c(b){return a["throw"](b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(a){this.abruptCompletion_={"return":a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){var c=$jscomp.makeIterator(a),d=c.next();$jscomp.generator.ensureIteratorResultIsObject_(d);if(d.done)this.yieldResult=d.value,this.nextAddress=b;else return this.yieldAllIterator_=c,this.yield(d.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){var c=this.finallyContexts_.splice(b||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_["return"]);this.context_["return"](a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this["throw"]=function(b){return a.throw_(b)};this["return"]=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){$jscomp.generator.Generator_.prototype=a.prototype;return new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b))};
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length,f=c||0;for(0>f&&(f=Math.max(f+e,0));f<e;f++){var g=b[f];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var e=b.length,f=a.length,g=Math.max(0,Math.min(c|0,b.length)),h=0;h<f&&g<e;)if(b[g++]!=a[h++])return!1;return h>=f}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d["delete"](b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(n){return!1}}function c(a){$jscomp.owns(a,e)||$jscomp.defineProperty(a,e,{value:{}})}function d(a){var b=Object[a];b&&(Object[a]=function(a){c(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;
var e="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");d("seal");var f=0,g=function(a){this.id_=(f+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};g.prototype.set=function(a,b){c(a);if(!$jscomp.owns(a,e))throw Error("WeakMap key fail: "+a);a[e][this.id_]=b;return this};g.prototype.get=function(a){return $jscomp.owns(a,e)?a[e][this.id_]:void 0};g.prototype.has=
function(a){return $jscomp.owns(a,e)&&$jscomp.owns(a[e],this.id_)};g.prototype["delete"]=function(a){return $jscomp.owns(a,e)&&$jscomp.owns(a[e],this.id_)?delete a[e][this.id_]:!1};return g},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,b){var c=e(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};d.prototype["delete"]=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!e(this,
a).entry};d.prototype.get=function(a){return(a=e(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(a,b){var d=b&&typeof b;
"object"==d||"function"==d?c.has(b)?d=c.get(b):(d=""+ ++h,c.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(var g=0;g<e.length;g++){var f=e[g];if(b!==b&&f.key!==f.key||b===f.key)return{id:d,list:e,index:g,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a=
{};return a.previous=a.next=a.head=a},h=0;return d},"es6","es3");$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};var shakaDemo=shakaDemo||{};shakaDemo.onlineOptGroups_=[];
shakaDemo.setupAssets_=function(){var a=document.getElementById("assetList"),b={},c=null;shakaAssets.testAssets.forEach(function(d){if(!d.disabled){var e=b[d.source];e||(e=document.createElement("optgroup"),e.label=d.source,e.disabled=!navigator.onLine,b[d.source]=e,a.appendChild(e),shakaDemo.onlineOptGroups_.push(e));var g=document.createElement("option");g.textContent=d.name;g.asset=d;e.appendChild(g);d.drm.length&&!d.drm.some(function(a){return shakaDemo.support_.drm[a]})&&(g.disabled=!0);var f=
[];d.features.includes(shakaAssets.Feature.WEBM)&&f.push("video/webm");d.features.includes(shakaAssets.Feature.MP4)&&f.push("video/mp4");d.features.includes(shakaAssets.Feature.MP2TS)&&f.push("video/mp2t");f.some(function(a){return shakaDemo.support_.media[a]})||(g.disabled=!0);d.features.includes(shakaAssets.Feature.DASH)&&!shakaDemo.support_.manifest.mpd&&(g.disabled=!0);d.features.includes(shakaAssets.Feature.HLS)&&!shakaDemo.support_.manifest.m3u8&&(g.disabled=!0);g.disabled||e.disabled||(c=c||
g,d.focus&&(c=g))}});c&&(c.selected=!0);var d=shakaDemo.setupOfflineAssets_(),e=document.createElement("option");e.textContent="(custom asset)";a.appendChild(e);a.addEventListener("change",function(){var b=a.options[a.selectedIndex].asset;document.getElementById("customAsset").style.display=b?"none":"block";shakaDemo.hashShouldChange_()});document.getElementById("loadButton").addEventListener("click",shakaDemo.load);document.getElementById("unloadButton").addEventListener("click",shakaDemo.unload);
e=[document.getElementById("licenseServerInput"),document.getElementById("manifestInput"),document.getElementById("certificateInput")];e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())f=f.value,f.addEventListener("input",shakaDemo.onAssetInput_),f.addEventListener("keydown",shakaDemo.onAssetKeyDown_);return d};shakaDemo.onAssetKeyDown_=function(a){"Enter"==a.key&&shakaDemo.load()};shakaDemo.onAssetInput_=function(a){shakaDemo.hashShouldChange_()};
shakaDemo.requestCertificate_=function(a){return shakaDemo.player_.getNetworkingEngine().request(shaka.net.NetworkingEngine.RequestType.APP,{uris:[a]}).promise.then(function(a){return a.data})};shakaDemo.configureCertificate_=function(a){var b=shakaDemo.player_,c=b.getConfiguration(),d={},e;for(e in c.drm.advanced)d[e]={serverCertificate:new Uint8Array(a)};b.configure({drm:{advanced:d}})};
shakaDemo.preparePlayer_=function(a){shakaDemo.closeError();var b=shakaDemo.player_,c=document.getElementById("drmSettingsVideoRobustness").value,d=document.getElementById("drmSettingsAudioRobustness").value,e=["com.widevine.alpha","com.microsoft.playready","com.adobe.primetime","org.w3.clearkey"],f={abr:{},streaming:{},manifest:{dash:{}},offline:{},drm:{advanced:{}}};e.forEach(function(a){f.drm.advanced[a]={}});f.manifest.dash.clockSyncUri="https://shaka-player-demo.appspot.com/time.txt";if(!a){var g=
document.getElementById("licenseServerInput").value,h={};g&&e.forEach(function(a){h[a]=g});a={manifestUri:document.getElementById("manifestInput").value,licenseServers:h,certificateUri:document.getElementById("certificateInput").value}}f.offline.progressCallback=function(a,b){document.getElementById("progress").textContent=(100*b).toFixed(2)};b.resetConfiguration();ShakaDemoUtils.setupAssetMetadata(a,b);shakaDemo.castProxy_.setAppData({asset:a});c&&e.forEach(function(a){f.drm.advanced[a].videoRobustness=
c});d&&e.forEach(function(a){f.drm.advanced[a].audioRobustness=d});f.preferredAudioLanguage=document.getElementById("preferredAudioLanguage").value;f.preferredTextLanguage=document.getElementById("preferredTextLanguage").value;e=Number(document.getElementById("preferredAudioChannelCount").value);isNaN(e)||(f.preferredAudioChannelCount=e);e=document.getElementById("availabilityWindowOverride").value;var k=Number(e);!isNaN(k)&&e.length&&(f.manifest.availabilityWindowOverride=k);f.abr.enabled=document.getElementById("enableAdaptation").checked;
e=document.getElementById("smallGapLimit").value;!isNaN(Number(e))&&0<e.length&&(f.streaming.smallGapLimit=Number(e));f.streaming.jumpLargeGaps=document.getElementById("jumpLargeGaps").checked;f.streaming.alwaysStreamText=document.getElementById("showNative").checked;var l=shakaDemo.controls_.getVideoContainer();f.textDisplayFactory=function(){return new shaka.ui.TextDisplayer(shakaDemo.video_,l)};b.configure(f);window.debugConfig&&b.configure(window.debugConfig);return a};
shakaDemo.computeDisabledAssets=function(){shakaDemo.onlineOptGroups_.forEach(function(a){a.disabled=!navigator.onLine})};
shakaDemo.load=function(){var a=document.getElementById("assetList"),b=shakaDemo.player_,c=shakaDemo.preparePlayer_(a.options[a.selectedIndex].asset);shakaDemo.localVideo_.poster=shakaDemo.mainPoster_;a=Promise.resolve();c.certificateUri&&(a=shakaDemo.requestCertificate_(c.certificateUri).then(shakaDemo.configureCertificate_));a.then(function(){return b.load(c.manifestUri,shakaDemo.startTime_)}).then(function(){shakaDemo.controls_.loadComplete();shakaDemo.video_.controls?shakaDemo.controls_.setEnabledNativeControls(!0):
shakaDemo.controls_.setEnabledShakaControls(!0);shakaDemo.hashShouldChange_();b.isAudioOnly()&&(shakaDemo.localVideo_.poster=shakaDemo.audioOnlyPoster_);var a=c.manifestUri.startsWith("offline:");shakaDemo.controls_.allowCast(!a);(c.extraText||[]).forEach(function(a){b.addTextTrack(a.uri,a.language,a.kind,a.mime,a.codecs)});"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:c.name}))},function(a){if(a.code==shaka.util.Error.Code.LOAD_INTERRUPTED)console.debug("load() interrupted");
else shakaDemo.onError_(a)});shakaDemo.video_.play()};shakaDemo.unload=function(){shakaDemo.player_.unload();shakaDemo.castProxy_.isCasting()||shakaDemo.controls_.setEnabledShakaControls(!1)};var shakaAssets={Encoder:{UNKNOWN:"Unknown",SHAKA_PACKAGER:"Shaka packager",AXINOM:"Axinom",UNIFIED_STREAMING:"Unified Streaming",WOWZA:"Wowza",BITCODIN:"Bitcodin",NIMBLE_STREAMER:"Nimble Streamer",AZURE_MEDIA_SERVICES:"Azure Media Services",MP4BOX:"MP4Box",APPLE:"Apple",UPLYNK:"Verizon Digital Media Services"},Source:{CUSTOM:"Custom",SHAKA:"Shaka",AXINOM:"Axinom",UNIFIED_STREAMING:"Unified Streaming",DASH_IF:"DASH-IF",WOWZA:"Wowza",BITCODIN:"Bitcodin",NIMBLE_STREAMER:"Nimble Streamer",AZURE_MEDIA_SERVICES:"Azure Media Services",
GPAC:"GPAC",UPLYNK:"Verizon Digital Media Services"},KeySystem:{CLEAR_KEY:"org.w3.clearkey",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Feature:{SEGMENT_BASE:"SegmentBase",SEGMENT_LIST_DURATION:"SegmentList w/ @duration",SEGMENT_LIST_TIMELINE:"SegmentList w/ SegmentTimeline",SEGMENT_TEMPLATE_DURATION:"SegmentTemplate w/ @duration",SEGMENT_TEMPLATE_TIMELINE:"SegmentTemplate w/ SegmentTimeline",SEGMENT_TEMPLATE_TIMELINE_TIME:"SegmentTemplate w/ SegmentTimeline $Time$",SEGMENT_TEMPLATE_TIMELINE_NUMBER:"SegmentTemplate w/ SegTimeline $Number$",
PSSH:"embedded PSSH",MULTIKEY:"multiple keys",MULTIPERIOD:"multiple Periods",ENCRYPTED_WITH_CLEAR:"mixing encrypted and unencrypted periods",AESCTR_16_BYTE_IV:"encrypted with AES CTR Mode using a 16 byte IV",AESCTR_8_BYTE_IV:"encrypted with AES CTR Mode using a 8 byte IV",TRICK_MODE:"special trick mode track",XLINK:"xlink",SUBTITLES:"subtitles",CAPTIONS:"captions",SEGMENTED_TEXT:"segmented text",EMBEDDED_TEXT:"embedded text",MULTIPLE_LANGUAGES:"multiple languages",OFFLINE:"offline",LIVE:"live",WEBM:"WebM",
MP4:"mp4",MP2TS:"MPEG-2 TS",TTML:"TTML",WEBVTT:"WebVTT",HIGH_DEFINITION:"high definition",ULTRA_HIGH_DEFINITION:"ultra-high definition",SURROUND:"surround sound",DASH:"DASH",HLS:"HLS"},UplynkResponseFilter:function(a,b){a==shaka.net.NetworkingEngine.RequestType.MANIFEST&&(shakaAssets.uplynk_prefix=b.headers["x-uplynk-prefix"]?b.headers["x-uplynk-prefix"]:"")},UplynkRequestFilter:function(a,b){a==shaka.net.NetworkingEngine.RequestType.LICENSE&&(b.uris[0].includes("wv")&&shakaAssets.uplynk_prefix?b.uris[0]=
shakaAssets.uplynk_prefix.concat("/wv"):b.uris[0].includes("ck")&&shakaAssets.uplynk_prefix?b.uris[0]=shakaAssets.uplynk_prefix.concat("/ck"):b.uris[0].includes("pr")&&shakaAssets.uplynk_prefix&&(b.uris[0]=shakaAssets.uplynk_prefix.concat("/pr")))}};
shakaAssets.testAssets=[{name:"Angel One (multicodec, multilingual)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/angel_one.png",shortName:"Angel One",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.WEBM,
shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Angel One (multicodec, multilingual, Widevine)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/angel_one.png",shortName:"Angel One",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,
shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE],licenseServers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},{name:"Angel One (multicodec, multilingual, ClearKey server)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/angel-one-clearkey/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/angel_one.png",shortName:"Angel One",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,
source:shakaAssets.Source.SHAKA,drm:[shakaAssets.KeySystem.CLEAR_KEY],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE],licenseServers:{"org.w3.clearkey":"https://cwip-shaka-proxy.appspot.com/clearkey?_u3wDe7erb7v8Lqt8A3QDQ=ABEiM0RVZneImaq7zN3u_w"}},{name:"Angel One (HLS, MP4, multilingual)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/angel-one-hls/hls.m3u8",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/angel_one.png",shortName:"Angel One",description:"A clip from a classic Star Trek TNG episode, presented in HLS.",isFeatured:!0,encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.HLS,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,shakaAssets.Feature.OFFLINE]},{name:"Angel One (HLS, MP4, multilingual, Widevine)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine-hls/hls.m3u8",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/angel_one.png",shortName:"Angel One",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.HLS,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,shakaAssets.Feature.OFFLINE],licenseServers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},{name:"Sintel 4k (multicodec)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Sintel w/ trick mode (MP4 only, 720p)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-trickplay/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TRICK_MODE,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Sintel 4k (WebM only)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-webm-only/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Sintel 4k (MP4 only)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-mp4-only/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Sintel 4k (multicodec, Widevine)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-widevine/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",description:"A Blender Foundation short film, protected by Widevine encryption.",isFeatured:!0,encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.PSSH,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,
shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE],licenseServers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},{name:"Sintel 4k (multicodec, VTT in MP4)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-mp4-wvtt/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,
shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBM,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Sintel w/ 44 subtitle languages",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/sintel-many-subs/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,
source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Heliocentrism (multicodec, multiperiod)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/heliocentrism/heliocentrism.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/heliocentricism.png",shortName:"Heliocentrism",
encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.WEBM,shakaAssets.Feature.OFFLINE]},{name:"Heliocentrism (multicodec, multiperiod, xlink)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/heliocentrism-xlink/heliocentrism.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/heliocentricism.png",shortName:"Heliocentrism",
encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.WEBM,shakaAssets.Feature.XLINK,shakaAssets.Feature.OFFLINE]},{name:'"Dig the Uke" by Stefan Kartenberg (audio only, multicodec)',manifestUri:"https://storage.googleapis.com/shaka-demo-assets/dig-the-uke-clear/dash.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/audio_only.png",
shortName:"Dig the Uke",description:"An audio-only presentation performed by Stefan Kartenberg.",isFeatured:!0,encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.WEBM,shakaAssets.Feature.OFFLINE]},{name:'"Dig the Uke" by Stefan Kartenberg (audio only, multicodec, Widevine)',manifestUri:"https://storage.googleapis.com/shaka-demo-assets/dig-the-uke/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/audio_only.png",shortName:"Dig the Uke",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.WEBM,shakaAssets.Feature.OFFLINE],licenseServers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},{name:"Tears of Steel (multicodec, TTML)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/tos-ttml/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TTML,shakaAssets.Feature.WEBM,shakaAssets.Feature.OFFLINE]},{name:"Tears of Steel (multicodec, surround + stereo)",manifestUri:"https://storage.googleapis.com/shaka-demo-assets/tos-surround/dash.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.SURROUND,shakaAssets.Feature.WEBM,shakaAssets.Feature.OFFLINE]},{name:"Shaka Player History (multicodec, live, DASH)",manifestUri:"https://storage.googleapis.com/shaka-live-assets/player-source.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/shaka.png",
shortName:"Shaka Player History",description:"A self-indulgent DASH livestream.",isFeatured:!0,encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.WEBM]},{name:"Shaka Player History (live, HLS)",manifestUri:"https://storage.googleapis.com/shaka-live-assets/player-source.m3u8",iconUri:"https://storage.googleapis.com/shaka-asset-icons/shaka.png",
shortName:"Shaka Player History",encoder:shakaAssets.Encoder.SHAKA_PACKAGER,source:shakaAssets.Source.SHAKA,drm:[],features:[shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.HLS,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4]},{name:"Multi-DRM",manifestUri:"https://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,
drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBVTT],licenseServers:{"com.widevine.alpha":"https://drm-widevine-licensing.axtest.net/AcquireLicense","com.microsoft.playready":"https://drm-playready-licensing.axtest.net/AcquireLicense"},
licenseRequestHeaders:{"X-AxDRM-Message":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoxLCJjb21fa2V5X2lkIjoiYjMzNjRlYjUtNTFmNi00YWUzLThjOTgtMzNjZWQ1ZTMxYzc4IiwibWVzc2FnZSI6eyJ0eXBlIjoiZW50aXRsZW1lbnRfbWVzc2FnZSIsImtleXMiOlt7ImlkIjoiOWViNDA1MGQtZTQ0Yi00ODAyLTkzMmUtMjdkNzUwODNlMjY2IiwiZW5jcnlwdGVkX2tleSI6ImxLM09qSExZVzI0Y3Iya3RSNzRmbnc9PSJ9XX19.4lWwW46k-oWcah8oN18LPj5OLS5ZU-_AQv7fe0JhNjA"}},{name:"Multi-DRM, multi-key",manifestUri:"https://media.axprod.net/TestVectors/v7-MultiDRM-MultiKey/Manifest.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,
shakaAssets.Feature.WEBVTT],licenseServers:{"com.widevine.alpha":"https://drm-widevine-licensing.axtest.net/AcquireLicense","com.microsoft.playready":"https://drm-playready-licensing.axtest.net/AcquireLicense"},licenseRequestHeaders:{"X-AxDRM-Message":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoxLCJjb21fa2V5X2lkIjoiYjMzNjRlYjUtNTFmNi00YWUzLThjOTgtMzNjZWQ1ZTMxYzc4IiwibWVzc2FnZSI6eyJ0eXBlIjoiZW50aXRsZW1lbnRfbWVzc2FnZSIsImtleXMiOlt7ImlkIjoiODAzOTliZjUtOGEyMS00MDE0LTgwNTMtZTI3ZTc0OGU5OGMwIiwiZW5jcnlwdGVkX2tleSI6ImxpTkpxVmFZa05oK01LY3hKRms3SWc9PSJ9LHsiaWQiOiI5MDk1M2UwOS02Y2IyLTQ5YTMtYTI2MC03YTVmZWZlYWQ0OTkiLCJlbmNyeXB0ZWRfa2V5Ijoia1l0SEh2cnJmQ01lVmRKNkxrYmtuZz09In0seyJpZCI6IjBlNGRhOTJiLWQwZTgtNGE2Ni04YzNmLWMyNWE5N2ViNjUzMiIsImVuY3J5cHRlZF9rZXkiOiI3dzdOWkhITE1nSjRtUUtFSzVMVE1RPT0ifSx7ImlkIjoiNTg1ZjIzM2YtMzA3Mi00NmYxLTlmYTQtNmRjMjJjNjZhMDE0IiwiZW5jcnlwdGVkX2tleSI6IkFjNFVVbVl0Qko1blBROU4xNXJjM2c9PSJ9LHsiaWQiOiI0MjIyYmQ3OC1iYzQ1LTQxYmYtYjYzZS02ZjgxNGRjMzkxZGYiLCJlbmNyeXB0ZWRfa2V5IjoiTzZGTzBmcVNXb3BwN2JqYy9ENGxNQT09In1dfX0.uF6YlKAREOmbniAeYiH070HSJhV0YS7zSKjlCtiDR5Y"}},
{name:"Multi-DRM, multi-key, multi-Period",manifestUri:"https://media.axprod.net/TestVectors/v7-MultiDRM-MultiKey-MultiPeriod/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,
shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBVTT],licenseServers:{"com.widevine.alpha":"https://drm-widevine-licensing.axtest.net/AcquireLicense","com.microsoft.playready":"https://drm-playready-licensing.axtest.net/AcquireLicense"},licenseRequestHeaders:{"X-AxDRM-Message":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoxLCJjb21fa2V5X2lkIjoiYjMzNjRlYjUtNTFmNi00YWUzLThjOTgtMzNjZWQ1ZTMxYzc4IiwibWVzc2FnZSI6eyJ0eXBlIjoiZW50aXRsZW1lbnRfbWVzc2FnZSIsImtleXMiOlt7ImlkIjoiMDg3Mjc4NmUtZjllNy00NjVmLWEzYTItNGU1YjBlZjhmYTQ1IiwiZW5jcnlwdGVkX2tleSI6IlB3NitlRVlOY3ZqWWJmc2gzWDNmbWc9PSJ9LHsiaWQiOiJjMTRmMDcwOS1mMmI5LTQ0MjctOTE2Yi02MWI1MjU4NjUwNmEiLCJlbmNyeXB0ZWRfa2V5IjoiLzErZk5paDM4bXFSdjR5Y1l6bnQvdz09In0seyJpZCI6IjhiMDI5ZTUxLWQ1NmEtNDRiZC05MTBmLWQ0YjVmZDkwZmJhMiIsImVuY3J5cHRlZF9rZXkiOiJrcTBKdVpFanBGTjhzYVRtdDU2ME9nPT0ifSx7ImlkIjoiMmQ2ZTkzODctNjBjYS00MTQ1LWFlYzItYzQwODM3YjRiMDI2IiwiZW5jcnlwdGVkX2tleSI6IlRjUlFlQld4RW9IT0tIcmFkNFNlVlE9PSJ9LHsiaWQiOiJkZTAyZjA3Zi1hMDk4LTRlZTAtYjU1Ni05MDdjMGQxN2ZiYmMiLCJlbmNyeXB0ZWRfa2V5IjoicG9lbmNTN0dnbWVHRmVvSjZQRUFUUT09In0seyJpZCI6IjkxNGU2OWY0LTBhYjMtNDUzNC05ZTlmLTk4NTM2MTVlMjZmNiIsImVuY3J5cHRlZF9rZXkiOiJlaUkvTXNsbHJRNHdDbFJUL0xObUNBPT0ifSx7ImlkIjoiZGE0NDQ1YzItZGI1ZS00OGVmLWIwOTYtM2VmMzQ3YjE2YzdmIiwiZW5jcnlwdGVkX2tleSI6IjJ3K3pkdnFycERWM3hSMGJKeTR1Z3c9PSJ9LHsiaWQiOiIyOWYwNWU4Zi1hMWFlLTQ2ZTQtODBlOS0yMmRjZDQ0Y2Q3YTEiLCJlbmNyeXB0ZWRfa2V5IjoiL3hsU0hweHdxdTNnby9nbHBtU2dhUT09In0seyJpZCI6IjY5ZmU3MDc3LWRhZGQtNGI1NS05NmNkLWMzZWRiMzk5MTg1MyIsImVuY3J5cHRlZF9rZXkiOiJ6dTZpdXpOMnBzaTBaU3hRaUFUa1JRPT0ifV19fQ.BXr93Et1krYMVs-CUnf7F3ywJWFRtxYdkR7Qn4w3-to"}},
{name:"Clear, single-Period",manifestUri:"https://media.axprod.net/TestVectors/v7-Clear/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,
shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Clear, multi-Period",manifestUri:"https://media.axprod.net/TestVectors/v7-Clear/Manifest_MultiPeriod.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPERIOD,
shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"Clear, Live DASH",manifestUri:"https://akamai-axtest.akamaized.net/routes/lapd-v1-acceptance/www_c4/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/weird_rainbow_test_pattern.png",shortName:"Test Pattern",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[],features:[shakaAssets.Feature.DASH,
shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.WEBVTT]},{name:"Clear, Live HLS",manifestUri:"https://akamai-axtest.akamaized.net/routes/lapd-v1-acceptance/www_c4/Manifest.m3u8",iconUri:"https://storage.googleapis.com/shaka-asset-icons/weird_rainbow_test_pattern.png",shortName:"Test Pattern",encoder:shakaAssets.Encoder.AXINOM,source:shakaAssets.Source.AXINOM,drm:[],features:[shakaAssets.Feature.HLS,
shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.WEBVTT]},{name:"Tears of Steel",manifestUri:"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel.ism/.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.UNIFIED_STREAMING,source:shakaAssets.Source.UNIFIED_STREAMING,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,
shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.OFFLINE]},{name:"Tears of Steel (Widevine)",manifestUri:"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-dash-widevine.ism/.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.UNIFIED_STREAMING,source:shakaAssets.Source.UNIFIED_STREAMING,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,
shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION],licenseServers:{"com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},{name:"Tears of Steel (PlayReady)",manifestUri:"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-dash-playready.ism/.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",
shortName:"Tears of Steel",encoder:shakaAssets.Encoder.UNIFIED_STREAMING,source:shakaAssets.Source.UNIFIED_STREAMING,drm:[shakaAssets.KeySystem.PLAYREADY],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION],licenseServers:{"com.microsoft.playready":"https://test.playready.microsoft.com/service/rightsmanager.asmx?PlayRight=1&UseSimpleNonPersistentLicense=1"}},
{name:"Tears of Steel (subtitles)",manifestUri:"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-en.ism/.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",shortName:"Tears of Steel",encoder:shakaAssets.Encoder.UNIFIED_STREAMING,source:shakaAssets.Source.UNIFIED_STREAMING,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.EMBEDDED_TEXT,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,
shakaAssets.Feature.SEGMENTED_TEXT,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TTML,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.OFFLINE]},{name:"Big Buck Bunny",manifestUri:"https://dash.akamaized.net/dash264/TestCases/1c/qualcomm/2/MultiRate.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/big_buck_bunny.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,
shakaAssets.Feature.OFFLINE]},{name:"Live sim (2s segments)",manifestUri:"https://livesim.dashif.org/livesim/utc_head/testpic_2s/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"Live sim SegmentTimeline w $Time$ (6s segments)",manifestUri:"https://livesim.dashif.org/livesim/segtimeline_1/utc_head/testpic_6s/Manifest.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE_TIME]},{name:"Live sim SegmentTimeline w $Number$ (6s segments)",manifestUri:"https://livesim.dashif.org/livesim/segtimelinenr_1/utc_head/testpic_6s/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",
encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE_NUMBER]},{name:"Live sim SegmentTimeline StartOver [-20s, +20s] (2s segments)",manifestUri:"https://livesim.dashif.org/livesim/segtimeline_1/startrel_-20/stoprel_20/timeoffset_0/testpic_2s/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,
source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE_TIME]},{name:"Live sim StartOver SegTmpl Duration [-20s, +20s] (2s segments)",manifestUri:"https://livesim.dashif.org/livesim/startrel_-20/stoprel_20/timeoffset_0/testpic_2s/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,
drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"Live sim SegTmpl Duration (multi-period 60s)",manifestUri:"https://livesim.dashif.org/livesim/utc_head/periods_60/testpic_2s/Manifest.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,
shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"Live sim TTML Image Subtitles embedded (VoD)",manifestUri:"https://livesim.dashif.org/dash/vod/testpic_2s/img_subs.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/dash_if_test_pattern.png",encoder:shakaAssets.Encoder.UNKNOWN,source:shakaAssets.Source.DASH_IF,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.TTML]},
{name:"Big Buck Bunny (Live)",manifestUri:"https://wowzaec2demo.streamlock.net/live/bigbuckbunny/manifest_mpm4sav_mvtime.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/big_buck_bunny.png",shortName:"Big Buck Bunny",encoder:shakaAssets.Encoder.WOWZA,source:shakaAssets.Encoder.WOWZA,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.LIVE,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE]},{name:"Art of Motion (DASH)",manifestUri:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/art_of_motion.png",shortName:"Art of Motion",encoder:shakaAssets.Encoder.BITCODIN,source:shakaAssets.Source.BITCODIN,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.OFFLINE]},{name:"Art of Motion (HLS, TS)",manifestUri:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/art_of_motion.png",shortName:"Art of Motion",encoder:shakaAssets.Encoder.BITCODIN,source:shakaAssets.Source.BITCODIN,drm:[],features:[shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.HLS,shakaAssets.Feature.MP2TS,shakaAssets.Feature.OFFLINE]},{name:"Sintel (HLS, TS, 4k)",manifestUri:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",shortName:"Sintel",
encoder:shakaAssets.Encoder.BITCODIN,source:shakaAssets.Source.BITCODIN,drm:[],features:[shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.HLS,shakaAssets.Feature.MP2TS,shakaAssets.Feature.ULTRA_HIGH_DEFINITION,shakaAssets.Feature.OFFLINE]},{name:"Big Buck Bunny",manifestUri:"https://video.wmspanel.com/local/raw/BigBuckBunny_320x180.mp4/manifest.mpd",disabled:!0,iconUri:"https://storage.googleapis.com/shaka-asset-icons/big_buck_bunny.png",encoder:shakaAssets.Encoder.NIMBLE_STREAMER,source:shakaAssets.Source.NIMBLE_STREAMER,
drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE]},{name:"Azure Trailer",manifestUri:"https://amssamples.streaming.mediaservices.windows.net/91492735-c523-432b-ba01-faba6c2206a2/AzureMediaServicesPromo.ism/manifest(format=mpd-time-csf)",iconUri:"https://storage.googleapis.com/shaka-asset-icons/azure.png",encoder:shakaAssets.Encoder.AZURE_MEDIA_SERVICES,source:shakaAssets.Source.AZURE_MEDIA_SERVICES,drm:[],features:[shakaAssets.Feature.DASH,
shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.OFFLINE]},{name:"Big Buck Bunny",manifestUri:"https://amssamples.streaming.mediaservices.windows.net/622b189f-ec39-43f2-93a2-201ac4e31ce1/BigBuckBunny.ism/manifest(format=mpd-time-csf)",iconUri:"https://storage.googleapis.com/shaka-asset-icons/big_buck_bunny.png",encoder:shakaAssets.Encoder.AZURE_MEDIA_SERVICES,source:shakaAssets.Source.AZURE_MEDIA_SERVICES,drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],
features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.OFFLINE],licenseServers:{"com.widevine.alpha":"https://amssamples.keydelivery.mediaservices.windows.net/Widevine/?KID=1ab45440-532c-4399-94dc-5c5ad9584bac","com.microsoft.playready":"https://amssamples.keydelivery.mediaservices.windows.net/PlayReady/"}},{name:"Tears Of Steel (external text)",manifestUri:"https://ams-samplescdn.streaming.mediaservices.windows.net/11196e3d-2f40-4835-9a4d-fc52751b0323/TearsOfSteel_WAMEH264SmoothStreaming720p.ism/manifest(format=mpd-time-csf)",
extraText:[{uri:"https://ams-samplescdn.streaming.mediaservices.windows.net/11196e3d-2f40-4835-9a4d-fc52751b0323/TOS-en.vtt",language:"en",kind:"subtitle",mime:"text/vtt"},{uri:"https://ams-samplescdn.streaming.mediaservices.windows.net/11196e3d-2f40-4835-9a4d-fc52751b0323/TOS-es.vtt",language:"es",kind:"subtitle",mime:"text/vtt"},{uri:"https://ams-samplescdn.streaming.mediaservices.windows.net/11196e3d-2f40-4835-9a4d-fc52751b0323/TOS-fr.vtt",language:"fr",kind:"subtitle",mime:"text/vtt"}],iconUri:"https://storage.googleapis.com/shaka-asset-icons/tears_of_steel.png",
shortName:"Tears of Steel",encoder:shakaAssets.Encoder.AZURE_MEDIA_SERVICES,source:shakaAssets.Source.AZURE_MEDIA_SERVICES,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_TIMELINE,shakaAssets.Feature.SUBTITLES,shakaAssets.Feature.WEBVTT,shakaAssets.Feature.OFFLINE]},{name:"live profile",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-live/mp4-live-mpd-AV-BS.mpd",disabled:!0,iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",
encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"live profile with five periods",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-live-periods/mp4-live-periods-mpd.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,
drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION,shakaAssets.Feature.OFFLINE]},{name:"main profile, single file",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-main-single/mp4-main-single-mpd-AV-NBS.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],
features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_LIST_DURATION,shakaAssets.Feature.OFFLINE]},{name:"main profile, mutiple files",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-main-multi/mp4-main-multi-mpd-AV-BS.mpd",disabled:!0,iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],features:[shakaAssets.Feature.DASH,
shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_LIST_DURATION]},{name:"onDemand profile",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-onDemand/mp4-onDemand-mpd-AV.mpd",iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_BASE,shakaAssets.Feature.OFFLINE]},
{name:"main profile, open GOP",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-main-ogop/mp4-main-ogop-mpd-AV-BS.mpd",disabled:!0,iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"full profile, gradual decoding refresh",manifestUri:"https://download.tsi.telecom-paristech.fr/gpac/DASH_CONFORMANCE/TelecomParisTech/mp4-full-gdr/mp4-full-gdr-mpd-AV-BS.mpd",
disabled:!0,iconUri:"https://storage.googleapis.com/shaka-asset-icons/gpac_test_pattern.png",encoder:shakaAssets.Encoder.MP4BOX,source:shakaAssets.Source.GPAC,drm:[],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.SEGMENT_TEMPLATE_DURATION]},{name:"Multi DRM - 8 Byte IV",manifestUri:"https://content.uplynk.com/847859273a4b4a81959d8fea181672a4.mpd?pr.version=2&pr.playenabler=B621D91F-EDCC-4035-8D4B-DC71760D43E9&pr.securitylevel=150",iconUri:"https://storage.googleapis.com/shaka-asset-icons/azure.png",
encoder:shakaAssets.Encoder.UPLYNK,source:shakaAssets.Source.UPLYNK,drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.PSSH,shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.AESCTR_8_BYTE_IV,shakaAssets.Feature.SEGMENT_LIST_DURATION,shakaAssets.Feature.HIGH_DEFINITION],licenseServers:{"com.microsoft.playready":"https://content.uplynk.com/pr","com.widevine.alpha":"https://content.uplynk.com/wv"},requestFilter:shakaAssets.UplynkRequestFilter,
responseFilter:shakaAssets.UplynkResponseFilter},{name:"Multi DRM - MultiPeriod - 8 Byte IV",manifestUri:"https://content.uplynk.com/054225d59be2454fabdca3e96912d847.mpd?ad=cleardash&pr.version=2&pr.playenabler=B621D91F-EDCC-4035-8D4B-DC71760D43E9&pr.securitylevel=150",iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",encoder:shakaAssets.Encoder.UPLYNK,source:shakaAssets.Source.UPLYNK,drm:[shakaAssets.KeySystem.PLAYREADY,shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,
shakaAssets.Feature.MP4,shakaAssets.Feature.PSSH,shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.SEGMENT_LIST_DURATION,shakaAssets.Feature.AESCTR_8_BYTE_IV,shakaAssets.Feature.HIGH_DEFINITION],licenseServers:{"com.microsoft.playready":"https://content.uplynk.com/pr","com.widevine.alpha":"https://content.uplynk.com/wv"},requestFilter:shakaAssets.UplynkRequestFilter,responseFilter:shakaAssets.UplynkResponseFilter},{name:"Widevine - 16 Byte IV",manifestUri:"https://content.uplynk.com/224ac8717e714b68831997ab6cea4015.mpd",
iconUri:"https://storage.googleapis.com/shaka-asset-icons/big_buck_bunny.png",encoder:shakaAssets.Encoder.UPLYNK,source:shakaAssets.Source.UPLYNK,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.PSSH,shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.AESCTR_16_BYTE_IV,shakaAssets.Feature.SEGMENT_LIST_DURATION,shakaAssets.Feature.HIGH_DEFINITION],licenseServers:{"com.widevine.alpha":"https://content.uplynk.com/wv"},requestFilter:shakaAssets.UplynkRequestFilter,
responseFilter:shakaAssets.UplynkResponseFilter},{name:"Widevine - 16 Byte IV - (mix of encrypted and unencrypted periods)",manifestUri:"https://content.uplynk.com/1eb40d8e64234f5c9879db7045c3d48c.mpd?ad=cleardash&rays=cdefg",iconUri:"https://storage.googleapis.com/shaka-asset-icons/sintel.png",encoder:shakaAssets.Encoder.UPLYNK,source:shakaAssets.Source.UPLYNK,drm:[shakaAssets.KeySystem.WIDEVINE],features:[shakaAssets.Feature.DASH,shakaAssets.Feature.MP4,shakaAssets.Feature.MULTIPLE_LANGUAGES,shakaAssets.Feature.SEGMENT_LIST_DURATION,
shakaAssets.Feature.PSSH,shakaAssets.Feature.HIGH_DEFINITION,shakaAssets.Feature.MULTIPERIOD,shakaAssets.Feature.MULTIKEY,shakaAssets.Feature.AESCTR_16_BYTE_IV,shakaAssets.Feature.ENCRYPTED_WITH_CLEAR],licenseServers:{"com.widevine.alpha":"https://content.uplynk.com/wv"},requestFilter:shakaAssets.UplynkRequestFilter,responseFilter:shakaAssets.UplynkResponseFilter}];var ShakaDemoUtils={setupAssetMetadata:function(a,b){var c={drm:{},manifest:{dash:{}}};a.licenseServers&&(c.drm.servers=a.licenseServers);a.drmCallback&&(c.manifest.dash.customScheme=a.drmCallback);a.clearKeys&&(c.drm.clearKeys=a.clearKeys);b.configure(c);c=b.getNetworkingEngine();c.clearAllRequestFilters();c.clearAllResponseFilters();if(a.licenseRequestHeaders){var d=ShakaDemoUtils.addLicenseRequestHeaders_.bind(null,a.licenseRequestHeaders);c.registerRequestFilter(d)}a.requestFilter&&c.registerRequestFilter(a.requestFilter);
a.responseFilter&&c.registerResponseFilter(a.responseFilter);a.extraConfig&&b.configure(a.extraConfig)},addLicenseRequestHeaders_:function(a,b,c){if(b==shaka.net.NetworkingEngine.RequestType.LICENSE)for(var d in a)c.headers[d]=a[d]},createAssetButtons:function(a,b,c,d,e){var f=[],g={};b=$jscomp.makeIterator(b);for(var h=b.next();!h.done;g={asset:g.asset,button:g.button},h=b.next())g.asset=h.value,g.button=document.createElement("div"),d(g.button,g.asset),g.button.onclick=function(a){return function(){e(a.asset);
for(var b=$jscomp.makeIterator(f),c=b.next();!c.done;c=b.next())c.value.removeAttribute("selected");a.button.setAttribute("selected","")}}(g),a.appendChild(g.button),f.push(g.button),g.asset==c&&g.button.setAttribute("selected","")},runThroughHashParams:function(a,b){var c=[],d=function(b,d){c.push(d);a(b,d)};d("audiolang","preferredAudioLanguage");d("textlang","preferredTextLanguage");d("channels","preferredAudioChannelCount");c.push("abr.enabled");c.push("streaming.jumpLargeGaps");var e=[],f=[],
g=function(a){for(var b in a){e.includes(b)&&!f.includes(b)&&f.push(b);e.push(b);var c=a[b];"number"!=typeof c&&"string"!=typeof c&&"boolean"!=typeof c&&g(c)}};g(b);var h=function(b,d){for(var e in b){var g=e,k=d+e;if(!c.includes(k)){f.includes(e)&&(g=k);var l=b[e];"number"==typeof l||"string"==typeof l||"boolean"==typeof l?a(g,k):h(l,k+".")}}};h(b,"")},browserSupportsUncompiledMode:function(){try{return eval("async ()=>{}"),!0}catch(a){return!1}}};shakaDemo=shakaDemo||{};
shakaDemo.setupConfiguration_=function(){document.getElementById("smallGapLimit").addEventListener("input",shakaDemo.onGapInput_);document.getElementById("jumpLargeGaps").addEventListener("change",shakaDemo.onJumpLargeGapsChange_);document.getElementById("preferredAudioLanguage").addEventListener("input",shakaDemo.onConfigInput_);document.getElementById("preferredTextLanguage").addEventListener("input",shakaDemo.onConfigInput_);document.getElementById("preferredUILanguage").addEventListener("input",shakaDemo.onConfigInput_);
document.getElementById("preferredAudioChannelCount").addEventListener("input",shakaDemo.onConfigInput_);document.getElementById("showNative").addEventListener("change",shakaDemo.onNativeChange_);document.getElementById("enableAdaptation").addEventListener("change",shakaDemo.onAdaptationChange_);document.getElementById("logLevelList").addEventListener("change",shakaDemo.onLogLevelChange_);document.getElementById("enableLoadOnRefresh").addEventListener("change",shakaDemo.onLoadOnRefreshChange_);document.getElementById("drmSettingsVideoRobustness").addEventListener("input",
shakaDemo.onDrmSettingsChange_);document.getElementById("drmSettingsAudioRobustness").addEventListener("input",shakaDemo.onDrmSettingsChange_);document.getElementById("availabilityWindowOverride").addEventListener("input",shakaDemo.onAvailabilityWindowOverrideChange_);var a=document.getElementById("robustnessSuggestions");shakaDemo.support_.drm["com.widevine.alpha"]&&["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"].forEach(function(b){var c=document.createElement("option");
c.value=b;c.textContent="Widevine";a.appendChild(c)})};shakaDemo.onLoadOnRefreshChange_=function(){shakaDemo.hashShouldChange_()};shakaDemo.onDrmSettingsChange_=function(a){shakaDemo.hashShouldChange_()};shakaDemo.onAvailabilityWindowOverrideChange_=function(a){shakaDemo.hashShouldChange_()};
shakaDemo.onLogLevelChange_=function(a){if(shaka.log){switch(a.target[a.target.selectedIndex].value){case "info":shaka.log.setLevel(shaka.log.Level.INFO);break;case "debug":shaka.log.setLevel(shaka.log.Level.DEBUG);break;case "vv":shaka.log.setLevel(shaka.log.Level.V2);break;case "v":shaka.log.setLevel(shaka.log.Level.V1)}shakaDemo.hashShouldChange_()}};shakaDemo.onJumpLargeGapsChange_=function(a){shakaDemo.player_.configure({streaming:{jumpLargeGaps:a.target.checked}});shakaDemo.hashShouldChange_()};
shakaDemo.onGapInput_=function(a){var b=Number(a.target.value);a=isNaN(b)||0==a.target.value.length;shakaDemo.player_.configure({streaming:{smallGapLimit:a?void 0:b}});shakaDemo.hashShouldChange_()};
shakaDemo.onConfigInput_=function(a){a=Number(document.getElementById("preferredAudioChannelCount").value)||2;shakaDemo.player_.configure({preferredAudioLanguage:document.getElementById("preferredAudioLanguage").value,preferredTextLanguage:document.getElementById("preferredTextLanguage").value,preferredAudioChannelCount:a});a=document.getElementById("preferredUILanguage").value;shakaDemo.controls_.getLocalization().changeLocale([a]);shakaDemo.hashShouldChange_()};
shakaDemo.onAdaptationChange_=function(a){shakaDemo.player_.configure({abr:{enabled:a.target.checked}});shakaDemo.hashShouldChange_()};shakaDemo.onNativeChange_=function(a){a.target.checked?shakaDemo.controls_.setEnabledNativeControls(!0):shakaDemo.controls_.setEnabledShakaControls(!0);shakaDemo.player_.configure({streaming:{alwaysStreamText:a.target.checked}});shakaDemo.hashShouldChange_()};shakaDemo=shakaDemo||{};
shakaDemo.setupInfo_=function(){window.setInterval(shakaDemo.updateDebugInfo_,125);shakaDemo.player_.addEventListener("trackschanged",shakaDemo.onTracksChanged_);shakaDemo.player_.addEventListener("adaptation",shakaDemo.onAdaptation_);document.getElementById("variantTracks").addEventListener("change",shakaDemo.onTrackSelected_);document.getElementById("textTracks").addEventListener("change",shakaDemo.onTrackSelected_);document.getElementById("audioLanguages").addEventListener("change",shakaDemo.onAudioLanguageSelected_);
document.getElementById("textLanguages").addEventListener("change",shakaDemo.onTextLanguageSelected_)};shakaDemo.onTracksChanged_=function(a){shakaDemo.updateLanguages_();shakaDemo.updateVariantTracks_();shakaDemo.updateTextTracks_()};
shakaDemo.updateVariantTracks_=function(){var a=document.getElementById("variantTracks"),b=document.getElementById("audioLanguages");b=0<=b.selectedIndex?b.options[b.selectedIndex].value:"";var c=shakaDemo.player_.getVariantTracks();c.sort(function(a,b){return a.bandwidth-b.bandwidth});shakaDemo.updateTrackOptions_(a,c,b)};
shakaDemo.updateTextTracks_=function(){var a=document.getElementById("textTracks"),b=document.getElementById("textLanguages");b=0<=b.selectedIndex?b.options[b.selectedIndex].value:"";var c=shakaDemo.player_.getTextTracks();shakaDemo.updateTrackOptions_(a,c,b)};
shakaDemo.updateTrackOptions_=function(a,b,c){for(var d={variant:function(a){var b="";a.language&&(b+="language: "+a.language+", ");a.label&&(b+="label: "+a.label+", ");a.roles.length&&(b+="roles: ["+a.roles.join()+"], ");a.width&&a.height&&(b+=a.width+"x"+a.height+", ");a.channelsCount&&(b+="channels: "+a.channelsCount+", ");return b+=a.bandwidth+" bits/s"},text:function(a){var b="language: "+a.language+", ";a.label&&(b+="label: "+a.label+", ");a.roles.length&&(b+="roles: ["+a.roles.join()+"], ");
return b+="kind: "+a.kind}};a.firstChild;)a.removeChild(a.firstChild);c=c.split(":");var e=c[0],f=c[1]||"";b=b.filter(function(a){var b=a.language==e;a=""==f||a.roles.includes(f);return b&&a});b.forEach(function(b){var c=document.createElement("option");c.textContent=d[b.type](b);c.track=b;c.value=b.id;c.selected=b.active;a.appendChild(c)})};shakaDemo.updateLanguages_=function(){shakaDemo.updateTextLanguages_();shakaDemo.updateAudioLanguages_()};
shakaDemo.updateTextLanguages_=function(){var a=shakaDemo.player_,b=document.getElementById("textLanguages"),c=a.getTextLanguagesAndRoles();a=a.getTextTracks();shakaDemo.updateLanguageOptions_(b,c,a)};shakaDemo.updateAudioLanguages_=function(){var a=shakaDemo.player_,b=document.getElementById("audioLanguages"),c=a.getAudioLanguagesAndRoles();a=a.getVariantTracks();shakaDemo.updateLanguageOptions_(b,c,a)};
shakaDemo.updateLanguageOptions_=function(a,b,c){for(;a.firstChild;)a.removeChild(a.firstChild);var d=c.filter(function(a){return 1==a.active})[0];b.forEach(function(b){var c=b.language,e=b.role;b=c;e&&(b+=" (role: "+e+")");var h=document.createElement("option");h.textContent=b;h.value=c+":"+e;var k=!1;d&&d.language==c&&(d.roles.length?d.roles.forEach(function(a){a==e&&(k=!0)}):k=!0);h.selected=k;a.appendChild(h)})};
shakaDemo.onAdaptation_=function(a){var b=document.getElementById("variantTracks");shakaDemo.player_.getVariantTracks().forEach(function(a){if(a.active)for(var c=0;c<b.options.length;++c){var e=b.options[c];if(e.value==a.id){e.selected=!0;break}}})};
shakaDemo.onTrackSelected_=function(a){a=a.target;var b=a.options[a.selectedIndex].track,c=shakaDemo.player_;"variantTracks"==a.id?(c.configure({abr:{enabled:!1}}),c.selectVariantTrack(b,!0)):c.selectTextTrack(b);a=c.getConfiguration().abr.enabled;document.getElementById("enableAdaptation").checked=a};shakaDemo.onAudioLanguageSelected_=function(a){var b=a.target;a=shakaDemo.player_;b=b.options[b.selectedIndex].value.split(":");a.selectAudioLanguage(b[0],b[1]||"");shakaDemo.updateVariantTracks_()};
shakaDemo.onTextLanguageSelected_=function(a){var b=a.target;a=shakaDemo.player_;b=b.options[b.selectedIndex].value.split(":");a.selectTextLanguage(b[0],b[1]||"");shakaDemo.updateTextTracks_()};
shakaDemo.updateDebugInfo_=function(){var a=shakaDemo.video_;document.getElementById("videoResDebug").textContent=a.videoWidth+" x "+a.videoHeight;var b=0,c=0,d=a.currentTime;a=a.buffered;for(var e=0;e<a.length;++e)if(a.start(e)<=d&&a.end(e)>=d){c=a.end(e)-d;b=d-a.start(e);break}document.getElementById("bufferedDebug").textContent="- "+b.toFixed(0)+"s / + "+c.toFixed(0)+"s"};shakaDemo=shakaDemo||{};shakaDemo.originalConsoleMethods_={error:function(){},warn:function(){},info:function(){},log:function(){},debug:function(){}};shakaDemo.patchedConsoleMethods_={error:function(){},warn:function(){},info:function(){},log:function(){},debug:function(){}};
shakaDemo.setupLogging_=function(){var a=document.getElementById("logToScreen"),b=document.getElementById("log");shaka.log?Object.keys&&window.console&&console.log&&console.log.bind&&(Object.keys(shakaDemo.originalConsoleMethods_).forEach(function(a){var c=console[a].bind(console),e=a+"Log";shakaDemo.originalConsoleMethods_[a]=c;shakaDemo.patchedConsoleMethods_[a]=function(){c.apply(console,arguments);shakaDemo.formatLog_(b,e,arguments)}}),a.addEventListener("change",shakaDemo.onLogChange_),shakaDemo.onLogChange_()):
a.parentElement.style.display="none"};shakaDemo.onLogChange_=function(){if(shaka.log){var a=document.getElementById("logToScreen"),b=document.getElementById("logSection");if(a.checked){b.style.display="block";b.open=!0;for(var c in shakaDemo.patchedConsoleMethods_)console[c]=shakaDemo.patchedConsoleMethods_[c]}else{b.style.display="none";for(var d in shakaDemo.originalConsoleMethods_)console[d]=shakaDemo.originalConsoleMethods_[d]}shaka.log.setLevel(shaka.log.currentLevel);shakaDemo.hashShouldChange_()}};
shakaDemo.formatLog_=function(a,b,c){var d=document.createElement("div");d.className=b;for(b=0;b<c.length;++b){var e=document.createElement("span"),f=c[b];var g=null===f?"null":void 0===f?"undefined":f.toString();if(Array.isArray(f)||"[object Object]"==g)g=JSON.stringify(f);e.textContent=g;d.appendChild(e)}a.appendChild(d);a.scrollTop=a.scrollHeight};shakaDemo=shakaDemo||{};shakaDemo.castProxy_=null;shakaDemo.video_=null;shakaDemo.player_=null;shakaDemo.localVideo_=null;shakaDemo.localPlayer_=null;shakaDemo.controls_=null;shakaDemo.hashCanChange_=!1;shakaDemo.suppressHashChangeEvent_=!1;shakaDemo.startTime_=void 0;shakaDemo.mainPoster_="https://shaka-player-demo.appspot.com/assets/poster.jpg";shakaDemo.audioOnlyPoster_="https://shaka-player-demo.appspot.com/assets/audioOnly.gif";
shakaDemo.init=function(){document.getElementById("errorDisplayCloseButton").addEventListener("click",shakaDemo.closeError);document.getElementById("version").textContent=shaka.Player.version;var a=navigator.languages||["en-us"];document.getElementById("preferredAudioLanguage").value=a[0];document.getElementById("preferredTextLanguage").value=a[0];document.getElementById("preferredUILanguage").value=a[0];document.getElementById("preferredAudioChannelCount").value="2";var b=shakaDemo.getParams_();
shakaDemo.setupLogging_();shakaDemo.preBrowserCheckParams_(b);window.addEventListener("error",function(a){if(!a.message.includes("cvox.ApiImplementation"))shakaDemo.onError_(a.error)});shaka.Player.isBrowserSupported()?(navigator.serviceWorker&&(console.debug("Registering service worker."),navigator.serviceWorker.register("service_worker.js").then(function(a){console.debug("Service worker registered!",a.scope)})["catch"](function(a){console.error("Service worker registration failed!",a)})),a=function(a){a=
document.getElementById("version");var b=a.textContent;b=b.replace(" (offline)","");navigator.onLine||(b+=" (offline)");a.textContent=b;shakaDemo.computeDisabledAssets()},window.addEventListener("online",a),window.addEventListener("offline",a),a(null),shaka.Player.probeSupport().then(function(a){shakaDemo.support_=a;var c=document.getElementById("video");a=c.parentElement;var e=c.ui,f=e.getPlayer();shakaDemo.castProxy_=e.getControls().getCastProxy();shakaDemo.video_=shakaDemo.castProxy_.getVideo();
shakaDemo.player_=shakaDemo.castProxy_.getPlayer();shakaDemo.player_.addEventListener("error",shakaDemo.onErrorEvent_);shakaDemo.localVideo_=c;shakaDemo.localPlayer_=f;shakaDemo.localVideo_.poster=shakaDemo.mainPoster_;c=shakaDemo.setupAssets_();shakaDemo.setupOffline_();shakaDemo.setupInfo_();shakaDemo.setupConfiguration_();goog.asserts.assert(a,"Must have a video container.");shakaDemo.controls_=e.getControls();a=shakaDemo.controls_.getLocalization();a.addEventListener(shaka.ui.Localization.UNKNOWN_LOCALES,
function(a){a=$jscomp.makeIterator(a.locales);for(var b=a.next();!b.done;b=a.next())shakaDemo.loadLocale_(b.value)});e=document.getElementById("preferredUILanguage").value;a.changeLocale([e]);shakaDemo.controls_.addEventListener("error",function(a){shakaDemo.onError_(a.errorDetails)});shakaDemo.controls_.addEventListener("caststatuschanged",function(a){shakaDemo.onCastStatusChange_(a.newStatus)});shakaDemo.controls_.setEnabledShakaControls(!1);c["catch"](function(a){shakaDemo.onError_(a)}).then(function(){shakaDemo.postBrowserCheckParams_(b);
window.addEventListener("hashchange",shakaDemo.updateFromHash_)})})["catch"](function(a){shakaDemo.onError_(a)})):(a=document.getElementById("errorDisplayLink"),void 0===a.textContent?a.innerText="Your browser is not supported!":a.textContent="Your browser is not supported!",document.getElementById("loadButton").disabled=!0,document.getElementById("unloadButton").disabled=!0,document.getElementById("errorDisplayCloseButton").style.display="none",a.style.fontSize="250%",a.href="#",a.style.pointerEvents=
"none",a.style.textDecoration="none",a.style.cursor="default",a.onclick=function(){return!1},document.getElementById("errorDisplay").style.display="block")};shakaDemo.getParams_=function(){var a=location.search.substr(1);a=a?a.split(";"):[];var b=location.hash.substr(1);b=b?b.split(";"):[];a=a.concat(b);b={};for(var c=0;c<a.length;++c){var d=a[c].split("=");b[d[0]]=d.slice(1).join("=")}return b};
shakaDemo.preBrowserCheckParams_=function(a){"videoRobustness"in a&&(document.getElementById("drmSettingsVideoRobustness").value=a.videoRobustness);"audioRobustness"in a&&(document.getElementById("drmSettingsAudioRobustness").value=a.audioRobustness);"lang"in a&&(document.getElementById("preferredAudioLanguage").value=a.lang,document.getElementById("preferredTextLanguage").value=a.lang,document.getElementById("preferredUILanguage").value=a.lang);"audiolang"in a&&(document.getElementById("preferredAudioLanguage").value=
a.audiolang);"textlang"in a&&(document.getElementById("preferredTextLanguage").value=a.textlang);"uilang"in a&&(document.getElementById("preferredUILanguage").value=a.uilang);"channels"in a&&(document.getElementById("preferredAudioChannelCount").value=a.channels);"asset"in a&&(document.getElementById("manifestInput").value=a.asset);"license"in a&&(document.getElementById("licenseServerInput").value=a.license);"certificate"in a&&(document.getElementById("certificateInput").value=a.certificate);"availabilityWindowOverride"in
a&&(document.getElementById("availabilityWindowOverride").value=a.availabilityWindowOverride);"logtoscreen"in a&&(document.getElementById("logToScreen").checked=!0,shakaDemo.onLogChange_());"noinput"in a&&(document.getElementById("container").className="noinput",document.body.className="noinput");"play"in a&&(document.getElementById("enableLoadOnRefresh").checked=!0);"startTime"in a&&(shakaDemo.startTime_=parseInt(a.startTime,10));if(shaka.log){document.getElementById("logLevelListDiv").hidden=!1;
if("vv"in a){var b="vv";shaka.log.setLevel(shaka.log.Level.V2)}else"v"in a?(b="v",shaka.log.setLevel(shaka.log.Level.V1)):"debug"in a&&(b="debug",shaka.log.setLevel(shaka.log.Level.DEBUG));if(b){a=document.getElementById("logLevelList");for(var c=0;c<a.length;c++)if(a[c].value==b){a.selectedIndex=c;break}}}};shakaDemo.licenseServerMatch_=function(a,b){if(!b)return!0;if(b&&!a.licenseServers)return!1;for(var c in a.licenseServers)if(b==a.licenseServers[c])return!0;return!1};
shakaDemo.postBrowserCheckParams_=function(a){if("asset"in a){for(var b=document.getElementById("assetList"),c=a.asset,d=a.license,e=!1,f=0;f<b.options.length-1;f++)if(b[f].asset&&b[f].asset.manifestUri==c&&shakaDemo.licenseServerMatch_(b[f].asset,d)){b.selectedIndex=f;e=!0;break}e?(document.getElementById("manifestInput").value="",document.getElementById("licenseServerInput").value=""):(b.selectedIndex=b.options.length-1,document.getElementById("customAsset").style.display="block");shakaDemo.updateButtons_(!0)}b=
document.getElementById("smallGapLimit");b.placeholder=.5;"smallGapLimit"in a&&(b.value=a.smallGapLimit,shakaDemo.onGapInput_({target:b}));b=document.getElementById("jumpLargeGaps");"jumpLargeGaps"in a?(b.checked=!0,shakaDemo.onJumpLargeGapsChange_({target:b})):b.checked=shakaDemo.player_.getConfiguration().streaming.jumpLargeGaps;"noadaptation"in a&&(b=document.getElementById("enableAdaptation"),b.checked=!1,shakaDemo.onAdaptationChange_({target:b}));"nativecontrols"in a&&(b=document.getElementById("showNative"),
b.checked=!0,shakaDemo.onNativeChange_({target:b}));shakaDemo.hashCanChange_=!0;shakaDemo.hashShouldChange_();("noinput"in a||"play"in a)&&shakaDemo.load()};shakaDemo.updateFromHash_=function(){if(shakaDemo.suppressHashChangeEvent_)shakaDemo.suppressHashChangeEvent_=!1;else{var a=shakaDemo.getParams_();shakaDemo.preBrowserCheckParams_(a);shakaDemo.postBrowserCheckParams_(a)}};
shakaDemo.hashShouldChange_=function(){if(shakaDemo.hashCanChange_){var a=[],b=shakaDemo.getParams_();if(shakaDemo.player_){var c=shakaDemo.player_.getAssetUri();var d=shakaDemo.player_.drmInfo();if(d)var e=d.licenseServerUri}d=document.getElementById("assetList");if(c){a.push("asset="+c);for(var f=!1,g=0;g<d.options.length-1;g++)if(d[g].asset.manifestUri==c){f=!0;break}!f&&e&&a.push("license="+e)}else d.selectedIndex==d.length-1?((c=document.getElementById("manifestInput").value)&&a.push("asset="+
c),(c=document.getElementById("licenseServerInput").value)&&a.push("license="+c)):a.push("asset="+d[d.selectedIndex].asset.manifestUri);(c=document.getElementById("certificateInput").value)&&a.push("certificate="+c);document.getElementById("smallGapLimit").value.length&&a.push("smallGapLimit="+document.getElementById("smallGapLimit").value);document.getElementById("jumpLargeGaps").checked&&a.push("jumpLargeGaps");c=document.getElementById("preferredAudioLanguage").value;e=document.getElementById("preferredTextLanguage").value;
d=document.getElementById("preferredUILanguage").value;e==c&&c==d?a.push("lang="+c):(a.push("audiolang="+c),a.push("textlang="+e),a.push("uilang="+d));c=document.getElementById("preferredAudioChannelCount").value;"2"!=c&&a.push("channels="+c);document.getElementById("logToScreen").checked&&a.push("logtoscreen");document.getElementById("enableAdaptation").checked||a.push("noadaptation");document.getElementById("showNative").checked&&a.push("nativecontrols");(c=document.getElementById("availabilityWindowOverride").value)&&
a.push("availabilityWindowOverride="+c);shaka.log&&(c=document.getElementById("logLevelList"),c=c[c.selectedIndex].value,"info"!=c&&a.push(c));document.getElementById("enableLoadOnRefresh").checked&&a.push("play");"noinput"in b&&a.push("noinput");void 0!=shakaDemo.startTime_&&a.push("startTime="+shakaDemo.startTime_);(c=document.getElementById("drmSettingsVideoRobustness").value)&&a.push("videoRobustness="+c);(c=document.getElementById("drmSettingsAudioRobustness").value)&&a.push("audioRobustness="+
c);var h="uncompiled",k="#"+a.join(";");"build"in b?(a.push("build="+b.build),h=b.build):"compiled"in b&&(a.push("build=compiled"),h="compiled");["compiled","debug_compiled","uncompiled"].forEach(function(a){var b=document.getElementById(a+"_link");b.href="#";h==a?(b.classList.add("disabled_link"),b.removeAttribute("href"),b.title="currently selected"):(b.classList.remove("disabled_link"),b.onclick=function(){location.hash=k+";build="+a;location.reload();return!1})});window.shakaUncompiledModeSupported()||
(b=document.getElementById("uncompiled_link"),b.classList.add("disabled_link"),b.removeAttribute("href"),b.title="requires a newer browser",b.onclick=null);a="#"+a.join(";");a!=location.hash&&(shakaDemo.suppressHashChangeEvent_=!0,location.hash=a);location.search&&(location.search="")}};
shakaDemo.loadLocale_=function(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function c(){var d,e,f,g,h;return $jscomp.generator.createGenerator(c,function(c){switch(c.nextAddress){case 1:return d="../ui/locales/"+a+".json",c.yield(fetch(d),2);case 2:return e=c.yieldResult,e.ok?c.yield(e.json(),3):(console.warn("Unable to load locale",a),c["return"]());case 3:f=c.yieldResult;g=new Map;for(var k in f)g.set(k,f[k]);h=shakaDemo.controls_.getLocalization();h.insert(a,g);c.jumpToEnd()}})})};
shakaDemo.onErrorEvent_=function(a){shakaDemo.onError_(a.detail)};
shakaDemo.onError_=function(a){console.error("Player error",a);var b=document.getElementById("errorDisplayLink");null==a.severity&&(a.severity=99);if(null==b.severity||a.severity>b.severity){var c=a.message||"Error code "+a.code;b.href=a.code?"../docs/api/shaka.util.Error.html#value:"+a.code:"";b.textContent=c;b.severity=a.severity||99;b.style.pointerEvents=a.code?"auto":"none";document.getElementById("errorDisplay").style.display="block"}};
shakaDemo.closeError=function(){document.getElementById("errorDisplay").style.display="none";var a=document.getElementById("errorDisplayLink");a.href="";a.textContent="";a.severity=null};document.addEventListener("shaka-ui-loaded",shakaDemo.init);shakaDemo=shakaDemo||{};shakaDemo.offlineOptGroup_=null;shakaDemo.offlineOperationInProgress_=!1;
shakaDemo.updateButtons_=function(a){var b=document.getElementById("assetList"),c=shakaDemo.offlineOperationInProgress_;document.getElementById("progressDiv").style.display=a&&!c?"none":"block";a=b.options[b.selectedIndex];var d=a.storedContent,e=b=!0,f=!0;a.asset&&a.asset.drm&&a.asset.drm.length&&(b=a.asset.drm.some(function(a){return shakaDemo.support_.drm[a]&&shakaDemo.support_.drm[a].persistentState}),e=Object.keys(shakaDemo.support_.drm).some(function(a){return shakaDemo.support_.drm[a]&&shakaDemo.support_.drm[a].persistentState}));
a.asset&&a.asset.features&&(a.asset.features.includes(shakaAssets.Feature.OFFLINE)||(f=!1));document.getElementById("offlineNameDiv").style.display=a.asset?"none":"block";var g=document.getElementById("storeDeleteButton");g.disabled=!1;g.textContent=d?"Delete":"Store";d=document.getElementById("storeDeleteHelpText");c?(g.disabled=!0,d.textContent="Operation is in progress..."):e?b?a.isStored?(g.disabled=!0,d.textContent='The asset is stored offline. Checkout the "Offline" section in the "Asset" list'):
f?d.textContent="":(g.disabled=!0,d.textContent="The asset does not support offline storage."):(g.disabled=!0,d.textContent="This browser does not support persistent licenses for any DRM system in this asset."):(g.disabled=!0,d.textContent="This browser does not support persistent licenses.")};
shakaDemo.setupOffline_=function(){document.getElementById("storeDeleteButton").addEventListener("click",shakaDemo.storeDeleteAsset_);document.getElementById("assetList").addEventListener("change",shakaDemo.updateButtons_.bind(null,!0));shakaDemo.updateButtons_(!0)};
shakaDemo.setupOfflineAssets_=function(){var a=shaka.offline.Storage;if(!a.support())return document.getElementById("offlineSection").style.display="none",Promise.resolve();var b=document.getElementById("assetList");if(shakaDemo.offlineOptGroup_)var c=shakaDemo.offlineOptGroup_;else c=document.createElement("optgroup"),shakaDemo.offlineOptGroup_=c,c.label="Offline",b.appendChild(c);var d=new a(shakaDemo.localPlayer_);return d.list().then(function(a){a.forEach(function(a){for(var d=0;d<b.options.length;d++){var e=
b.options[d];if(e.asset&&e.asset.manifestUri==a.originalManifestUri){e.isStored=!0;break}}d={manifestUri:a.offlineUri};e=document.createElement("option");e.textContent=a.appMetadata?a.appMetadata.name:"";e.asset=d;e.storedContent=a;c.appendChild(e)});shakaDemo.updateButtons_(!0);return d.destroy()})};
shakaDemo.storeDeleteAsset_=function(){shakaDemo.closeError();shakaDemo.offlineOperationInProgress_=!0;shakaDemo.updateButtons_(!1);var a=document.getElementById("assetList"),b=a.options[a.selectedIndex],c=new shaka.offline.Storage(shakaDemo.localPlayer_);document.getElementById("progress").textContent=(0).toFixed(2);if(b.storedContent){var d=b.storedContent.offlineUri;for(var e=b.storedContent.originalManifestUri,f=0;f<shakaAssets.testAssets.length;f++){var g=shakaAssets.testAssets[f];if(e==g.manifestUri){shakaDemo.preparePlayer_(g);
break}}d=c.remove(d).then(function(){for(var b=0;b<a.options.length;b++){var c=a.options[b];c.asset&&c.asset.manifestUri==e&&(c.isStored=!1)}return shakaDemo.refreshAssetList_()})}else{d=Promise.resolve();var h=shakaDemo.preparePlayer_(b.asset);h.certificateUri&&(d=shakaDemo.requestCertificate_(h.certificateUri).then(shakaDemo.configureCertificate_));d=d.then(function(){var d=document.getElementById("offlineName").value,e=h.name?"[OFFLINE] "+h.name:null;return c.store(h.manifestUri,{name:e||d||h.manifestUri}).then(function(){b.asset&&
(b.isStored=!0);return shakaDemo.refreshAssetList_().then(function(){for(var b=shakaDemo.offlineOptGroup_,c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];d.textContent==e&&(a.selectedIndex=d.index)}})})})}d["catch"](function(a){shakaDemo.onError_(a)}).then(function(){shakaDemo.offlineOperationInProgress_=!1;shakaDemo.updateButtons_(!0);return c.destroy()})};shakaDemo.refreshAssetList_=function(){for(var a=shakaDemo.offlineOptGroup_;a.firstChild;)a.removeChild(a.firstChild);return shakaDemo.setupOfflineAssets_()};
shakaDemo.onCastStatusChange_=function(a){shakaDemo.offlineOptGroup_&&(shakaDemo.offlineOptGroup_.disabled=a)&&(a=document.getElementById("assetList"),a.options[a.selectedIndex].storedContent&&(a.selectedIndex=0))};var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};
goog.define=function(a,b){var c=b;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]));goog.exportPath_(a,c)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;
goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={});
goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){b=b||goog.global;for(var c in a)b[c]=a[c]};goog.addDependency=function(a,b,c){if(goog.DEPENDENCIES_ENABLED){var d;a=a.replace(/\\/g,"/");for(var e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.require=function(a){if(!COMPILED){if(goog.isProvided_(a))return null;if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.included_[b]=!0,goog.writeScripts_(),null}a="goog.require could not find: "+a;goog.logToConsole_(a);throw Error(a);}};goog.basePath="";goog.global.CLOSURE_NO_DEPS=!0;goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?");d=-1==d?c.length:d;if("base.js"==
c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(a,b)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if("complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}void 0===b?c.write('<script type="text/javascript" src="'+a+'">\x3c/script>'):c.write('<script type="text/javascript">'+
b+"\x3c/script>");return!0}return!1},goog.writeScripts_=function(){function a(e){if(!(e in d.written)){if(!(e in d.visited)&&(d.visited[e]=!0,e in d.requires))for(var f in d.requires[e])if(!goog.isProvided_(f))if(f in d.nameToPath)a(d.nameToPath[f]);else throw Error("Undefined nameToPath for "+f);e in c||(c[e]=!0,b.push(e))}}var b=[],c={},d=goog.dependencies_;for(f in goog.included_)d.written[f]||a(f);for(var e=0;e<b.length;e++){var f=b[e];goog.dependencies_.written[f]=!0}for(e=0;e<b.length;e++)(f=
b[e])&&goog.importScript_(goog.basePath+f)},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));goog.isDefAndNotNull=function(a){return null!=a};goog.isString=function(a){return"string"==typeof a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){var d=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,d)}};COMPILED||(goog.global.COMPILED=COMPILED);goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.assert=function(){};goog.asserts.patchAssert_=function(){var a=console.assert;a?a.bind||(console.assert=function(){a.apply(console,arguments)}):console.assert=function(){}};goog.asserts.ENABLE_ASSERTS&&(goog.asserts.patchAssert_(),goog.asserts.assert=console.assert.bind(console));goog.uri={};goog.uri.utils={};goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(a){return a.match(goog.uri.utils.splitRe_)};goog.Uri=function(a){var b;a instanceof goog.Uri?(this.setScheme(a.getScheme()),this.setUserInfo(a.getUserInfo()),this.setDomain(a.getDomain()),this.setPort(a.getPort()),this.setPath(a.getPath()),this.setQueryData(a.getQueryData().clone()),this.setFragment(a.getFragment())):a&&(b=goog.uri.utils.split(String(a)))?(this.setScheme(b[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(b[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(b[goog.uri.utils.ComponentIndex.DOMAIN]||
"",!0),this.setPort(b[goog.uri.utils.ComponentIndex.PORT]),this.setPath(b[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(b[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(b[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):this.queryData_=new goog.Uri.QueryData(null,null)};goog.Uri.prototype.scheme_="";goog.Uri.prototype.userInfo_="";goog.Uri.prototype.domain_="";goog.Uri.prototype.port_=null;goog.Uri.prototype.path_="";goog.Uri.prototype.fragment_="";
goog.Uri.prototype.toString=function(){var a=[],b=this.getScheme();b&&a.push(goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");if(b=this.getDomain()){a.push("//");var c=this.getUserInfo();c&&a.push(goog.Uri.encodeSpecialChars_(c,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@");a.push(goog.Uri.removeDoubleEncoding_(encodeURIComponent(b)));b=this.getPort();null!=b&&a.push(":",String(b))}if(b=this.getPath())this.hasDomain()&&"/"!=b.charAt(0)&&a.push("/"),a.push(goog.Uri.encodeSpecialChars_(b,
"/"==b.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0));(b=this.getEncodedQuery())&&a.push("?",b);(b=this.getFragment())&&a.push("#",goog.Uri.encodeSpecialChars_(b,goog.Uri.reDisallowedInFragment_));return a.join("")};
goog.Uri.prototype.resolve=function(a){var b=this.clone();"data"===b.scheme_&&(b=new goog.Uri);var c=a.hasScheme();c?b.setScheme(a.getScheme()):c=a.hasUserInfo();c?b.setUserInfo(a.getUserInfo()):c=a.hasDomain();c?b.setDomain(a.getDomain()):c=a.hasPort();var d=a.getPath();if(c)b.setPort(a.getPort());else if(c=a.hasPath()){if("/"!=d.charAt(0))if(this.hasDomain()&&!this.hasPath())d="/"+d;else{var e=b.getPath().lastIndexOf("/");-1!=e&&(d=b.getPath().substr(0,e+1)+d)}d=goog.Uri.removeDotSegments(d)}c?
b.setPath(d):c=a.hasQuery();c?b.setQueryData(a.getQueryData().clone()):c=a.hasFragment();c&&b.setFragment(a.getFragment());return b};goog.Uri.prototype.clone=function(){return new goog.Uri(this)};goog.Uri.prototype.getScheme=function(){return this.scheme_};goog.Uri.prototype.setScheme=function(a,b){if(this.scheme_=b?goog.Uri.decodeOrEmpty_(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,"");return this};goog.Uri.prototype.hasScheme=function(){return!!this.scheme_};goog.Uri.prototype.getUserInfo=function(){return this.userInfo_};
goog.Uri.prototype.setUserInfo=function(a,b){this.userInfo_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_};goog.Uri.prototype.getDomain=function(){return this.domain_};goog.Uri.prototype.setDomain=function(a,b){this.domain_=b?goog.Uri.decodeOrEmpty_(a,!0):a;return this};goog.Uri.prototype.hasDomain=function(){return!!this.domain_};goog.Uri.prototype.getPort=function(){return this.port_};
goog.Uri.prototype.setPort=function(a){if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};goog.Uri.prototype.hasPort=function(){return null!=this.port_};goog.Uri.prototype.getPath=function(){return this.path_};goog.Uri.prototype.setPath=function(a,b){this.path_=b?goog.Uri.decodeOrEmpty_(a,!0):a;return this};goog.Uri.prototype.hasPath=function(){return!!this.path_};goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()};
goog.Uri.prototype.setQueryData=function(a,b){a instanceof goog.Uri.QueryData?this.queryData_=a:(b||(a=goog.Uri.encodeSpecialChars_(a,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(a,null));return this};goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()};goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()};goog.Uri.prototype.getQueryData=function(){return this.queryData_};goog.Uri.prototype.getFragment=function(){return this.fragment_};
goog.Uri.prototype.setFragment=function(a,b){this.fragment_=b?goog.Uri.decodeOrEmpty_(a):a;return this};goog.Uri.prototype.hasFragment=function(){return!!this.fragment_};
goog.Uri.removeDotSegments=function(a){if(".."==a||"."==a)return"";if(-1==a.indexOf("./")&&-1==a.indexOf("/."))return a;var b=0==a.lastIndexOf("/",0);a=a.split("/");for(var c=[],d=0;d<a.length;){var e=a[d++];"."==e?b&&d==a.length&&c.push(""):".."==e?((1<c.length||1==c.length&&""!=c[0])&&c.pop(),b&&d==a.length&&c.push("")):(c.push(e),b=!0)}return c.join("/")};goog.Uri.decodeOrEmpty_=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};
goog.Uri.encodeSpecialChars_=function(a,b,c){return goog.isString(a)?(a=encodeURI(a).replace(b,goog.Uri.encodeChar_),c&&(a=goog.Uri.removeDoubleEncoding_(a)),a):null};goog.Uri.encodeChar_=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};goog.Uri.removeDoubleEncoding_=function(a){return a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")};goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g;goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g;goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g;
goog.Uri.reDisallowedInQuery_=/[#\?@]/g;goog.Uri.reDisallowedInFragment_=/#/g;goog.Uri.QueryData=function(a,b){this.encodedQuery_=a||null};
goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_={},this.count_=0,this.encodedQuery_))for(var a=this.encodedQuery_.split("&"),b=0;b<a.length;b++){var c=a[b].indexOf("="),d=null;if(0<=c){var e=a[b].substring(0,c);d=a[b].substring(c+1)}else e=a[b];e=decodeURIComponent(e.replace(/\+/g," "));d=d||"";this.add(e,decodeURIComponent(d.replace(/\+/g," ")))}};goog.Uri.QueryData.prototype.keyMap_=null;goog.Uri.QueryData.prototype.count_=null;
goog.Uri.QueryData.prototype.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};goog.Uri.QueryData.prototype.add=function(a,b){this.ensureKeyMapInitialized_();this.encodedQuery_=null;var c=this.keyMap_.hasOwnProperty(a)&&this.keyMap_[a];c||(this.keyMap_[a]=c=[]);c.push(b);this.count_++;return this};
goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";var a=[],b;for(b in this.keyMap_)for(var c=encodeURIComponent(b),d=this.keyMap_[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="="+encodeURIComponent(d[e]));a.push(f)}return this.encodedQuery_=a.join("&")};goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())};
goog.Uri.QueryData.prototype.clone=function(){var a=new goog.Uri.QueryData;a.encodedQuery_=this.encodedQuery_;if(this.keyMap_){var b={},c;for(c in this.keyMap_)b[c]=this.keyMap_[c].concat();a.keyMap_=b;a.count_=this.count_}return a};
//# sourceMappingURL=demo.compiled.debug.map